{% extends "hospital_app/base.html" %}
{% block title %}Doctors{% endblock %}
{% block content %}
<h2>Doctors</h2>
<form method="get" class="d-flex mb-3">
  <input name="q" value="{{ query }}" class="form-control me-2" placeholder="Search by name">
  <button class="btn btn-primary">Search</button>
</form>
<a href="{% url 'add_doctor' %}" class="btn btn-success mb-3">+ Add Doctor</a>

<table class="table table-striped bg-white">
<thead class="table-primary"><tr><th>Name</th><th>Specialization</th><th>Phone</th><th>Actions</th></tr></thead>
<tbody>
{% for d in doctors %}
<tr>
  <td>{{ d.name }}</td>
  <td>{{ d.specialization }}</td>
  <td>{{ d.phone }}</td>
  <td>
    <a href="{% url 'edit_doctor' d.id %}" class="btn btn-warning btn-sm">Edit</a>
    <a href="{% url 'delete_doctor' d.id %}" class="btn btn-danger btn-sm">Delete</a>
  </td>
</tr>
{% empty %}
<tr><td colspan="4" class="text-center">No doctors.</td></tr>
{% endfor %}
</tbody>
</table>

<nav><ul class="pagination">
  {% if doctors.has_previous %}<li class="page-item"><a class="page-link" href="?q={{ query }}&page={{ doctors.previous_page_number }}">Previous</a></li>{% else %}<li class="page-item disabled"><span class="page-link">Previous</span></li>{% endif %}
  <li class="page-item active"><span class="page-link">{{ doctors.number }} / {{ doctors.paginator.num_pages }}</span></li>
  {% if doctors.has_next %}<li class="page-item"><a class="page-link" href="?q={{ query }}&page={{ doctors.next_page_number }}">Next</a></li>{% else %}<li class="page-item disabled"><span class="page-link">Next</span></li>{% endif %}
</ul></nav>
{% endblock %}
